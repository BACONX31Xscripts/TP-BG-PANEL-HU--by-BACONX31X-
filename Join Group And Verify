local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local groupId = 34767504

-- ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TeleportGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player:WaitForChild("PlayerGui")

-- Ana Frame (tam ekran GUI)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 150)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
MainFrame.BackgroundTransparency = 0.5
MainFrame.Parent = ScreenGui

-- Kapatma butonu (X)
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
CloseButton.Parent = MainFrame

-- Minimize butonu (başta gizli)
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 40, 0, 40)
MinimizeButton.Position = UDim2.new(1, -50, 0, 10)
MinimizeButton.AnchorPoint = Vector2.new(1, 0)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.new(1, 1, 1)
MinimizeButton.Visible = false
MinimizeButton.Parent = ScreenGui

-- Grup kontrol yazısı
local InfoLabel = Instance.new("TextLabel")
InfoLabel.Size = UDim2.new(1, -40, 0, 40)
InfoLabel.Position = UDim2.new(0, 10, 0, 10)
InfoLabel.TextColor3 = Color3.new(1, 1, 1)
InfoLabel.BackgroundTransparency = 1
InfoLabel.Text = "JOIN THE CG DESIGN GROUP (by BACONX31X)"
InfoLabel.Parent = MainFrame

-- Grup onay butonu
local JoinButton = Instance.new("TextButton")
JoinButton.Size = UDim2.new(0, 280, 0, 40)
JoinButton.Position = UDim2.new(0, 10, 0, 60)
JoinButton.Text = "I Joined the Group ✅"
JoinButton.TextColor3 = Color3.new(1, 1, 1)
JoinButton.BackgroundColor3 = Color3.new(0, 0.6, 0)
JoinButton.Parent = MainFrame

-- Hata mesajı label
local ErrorLabel = Instance.new("TextLabel")
ErrorLabel.Size = UDim2.new(1, -20, 0, 30)
ErrorLabel.Position = UDim2.new(0, 10, 1, -40)
ErrorLabel.TextColor3 = Color3.new(1, 0, 0)
ErrorLabel.BackgroundTransparency = 1
ErrorLabel.Text = ""
ErrorLabel.Parent = MainFrame

local function checkGroup()
    return player:IsInGroup(groupId)
end

-- Kapatma butonu işlemi
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui.Enabled = false
end)

-- Minimize butonu işlemi
MinimizeButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = true
    MinimizeButton.Visible = false
end)

-- Grup kontrolü ve açma
JoinButton.MouseButton1Click:Connect(function()
    if checkGroup() then
        MainFrame.Visible = true
        MinimizeButton.Visible = false
        ErrorLabel.Text = ""
    else
        ErrorLabel.Text = "You have not joined the group! Failed ❌"
        task.delay(5, function()
            ErrorLabel.Text = ""
        end)
    end
end)

-- Başlangıçta GUI açık
ScreenGui.Enabled = true

-- "-" tuşuna basınca minimize aç/kapa
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.Minus then
        if MainFrame.Visible then
            MainFrame.Visible = false
            MinimizeButton.Visible = true
        else
            MainFrame.Visible = true
            MinimizeButton.Visible = false
        end
    end
end)
